(function(a){a.fn.cropresize=function(b){var c={width:50,height:50,vertical:"center",horizontal:"center"};var b=a.extend(c,b);return this.each(function(){obj=a(this);var c=a('<div class="cropresize"></div>').css({width:b.width,height:b.height,overflow:"hidden",display:"inline-block",position:"relative"});obj.wrap(c);obj.load(function(){width_ratio=b.width/a(this).width();height_ratio=b.height/a(this).height();if(width_ratio>height_ratio){a(this).width(b.width);switch(b.vertical){case"top":a(this).css("top",0);break;case"bottom":a(this).css("bottom",0);break;case"center":default:a(this).css("top",(a(this).height()-b.height)/-2+"px")}a(this).css("left",0)}else{a(this).height(b.height);switch(b.horizontal){case"left":a(this).css("left",0);break;case"right":a(this).css("right",0);break;case"center":default:a(this).css("left",(a(this).width()-b.width)/-2+"px")}a(this).css("top",0)}a(this).css("position","absolute")})})}})(jQuery)
